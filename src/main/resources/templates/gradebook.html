<!DOCTYPE html>
<html lang="en" ng-app="TeachersPetApp">
<head>

    <meta charset="UTF-8">
    <title>Teacher's Pet</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <style>
table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
}
th, td {
    padding: 5px;
}
th {
    text-align: left;
}
</style>
</head>
<body ng-controller="GradebookController">
{{! changing the mustache delimiter so it doesn't conflict with }}
{{! the default angularjs delimeters - https://mustache.github.io/mustache.5.html for more info }}
{{=<% %>=}}

<input type="hidden" ng-model="courseIdForGradebook" ng-init="gradebook(<%courseId%>)"/>

<input type="hidden" ng-click="testMustacheVar()" value="Testing"/>
<!--<div style="text-align: center">-->
    <!--Welcome to Teacher's Pet-->
<!--</div>-->

    <!--<span ng-if="loginSuccessful">-->
        <!--Welcome, {{teacherWhoIsLoggedIn.firstName}} {{teacherWhoIsLoggedIn.lastName}}! <br/><br/>-->
        <!--<h3>Add a class: </h3>-->
        <!--Name: <input type="text" ng-model="newClassName"/> <br/>-->
        <!--Subject: <input type="text" ng-model="newClassSubject"/> <br/>-->
        <!--Grade Level: <input type="number" ng-model="newClassGradeLevel"/> <br/>-->
        <!--<input type="button" ng-click="addClass(newClassName, newClassSubject, newClassGradeLevel)" value="Add class"/> <br/>-->
        <!--<div>-->
            <!--<h2>My Classes: </h2>-->
            <!--<ol>-->
                <!--<span ng-repeat="course in allCourses">-->
                    <!--<li>{{course.name}}, Subject: {{course.subject}}, Grade Level: {{course.gradeLevel}} <input type="button" ng-click="gradebook(course)" value="Gradebook"/> </li>-->
                <!--</span>-->
            <!--</ol>-->

        <!--</div>-->

        <!--<div ng-if="currentClass">-->
            <!--<h3>{{currentClass.name}}'s students: </h3>-->
            <!--<ul>-->
            <!--<span ng-repeat="student in allStudents">-->
            <!--<li>{{student.firstName}} {{student.lastName}} </li>-->
            <!--</span>-->
            <!--</ul>-->
            <!--<br/>-->

            <!--<h3>Add a student to {{currentClass.name}}: </h3>-->
            <!--Student first name: <input type="text" ng-model="newStudentFirstName"/> <br/>-->
            <!--Last name: <input type="text" ng-model="newStudentLastName"/> <br/>-->
            <!--Parent email: <input type="text" ng-model="newStudentParentEmail"/> <br/>-->
            <!--<input type="button" ng-click="addStudent(newStudentFirstName, newStudentLastName, newStudentParentEmail)" value="Add Student"/> <br/>-->

            <!--<br/><br/>-->
            <!--&lt;!&ndash;<h3>{{currentClass.name}}'s assignments: </h3>&ndash;&gt;-->
            <!--&lt;!&ndash;<ul>&ndash;&gt;-->
            <!--&lt;!&ndash;<span ng-repeat="assmt in allAssignments">&ndash;&gt;-->
            <!--&lt;!&ndash;<li>{{assmt.name}}, due on {{assmt.dueDate}} </li>&ndash;&gt;-->
            <!--&lt;!&ndash;</span>&ndash;&gt;-->
            <!--&lt;!&ndash;</ul>&ndash;&gt;-->
            <!--&lt;!&ndash;<br/>&ndash;&gt;-->

            <!--<h3>Add an assignment: </h3>-->
            <!--Assignment name: <input type="text" ng-model="newAssignmentName"/> <br/>-->
            <!--Due date: <input type="text" ng-model="newAssignmentDate"/> <br/>-->
            <!--<input type="button" ng-click="addAssignment(newAssignmentName, newAssignmentDate)" value="Add Assignment"/> <br/>-->



            <table>
                <tr>
                    <td></td>
                    <td ng-repeat="currentAssignment in allAssignments"> {{currentAssignment.name}} </td>
                    <input type="button" ng-click="" value="Add assignment (coming soon)"/>

                <tr ng-repeat="studentContainer in gradebookContainer.studentContainers">
                    <td>{{ studentContainer.student.firstName }} {{ studentContainer.student.lastName }}</td>

                    <td ng-repeat="studentAssignment in studentContainer.studentAssignments"> <input type="number" ng-model="studentAssignment.grade" ng-keyup="storeGrades"> </td>
                </tr>

                <tr>
                    <td> <input type="button" ng-click="" value="Add student (coming soon)"/> </td>

                    <td ng-repeat="i in getNumberOfAssignments(numberOfAssignments) track by $index"> <input type="button" ng-click="addGrades(allAssignments[$index], gradebookContainer.studentContainers)" value="Send grades"/> </td>

                </tr>

                <tr>
                    <td> </td>

                    <td ng-repeat="i in getNumberOfAssignments(numberOfAssignments) track by $index"> <input type="button" ng-click="getAverage(allAssignments[$index], gradebookContainer.studentContainers)" value="Get Average"/> </td>
                </tr>

                <tr>
                    <td> </td>
                    <td ng-repeat="i in getNumberOfAssignments(numberOfAssignments) track by $index"> <input type="button" ng-click="curveFlat(allAssignments[$index], gradebookContainer.studentContainers)" value="Flat curve"/> </td>
                </tr>

                <tr>
                    <td> </td>
                    <td ng-repeat="i in getNumberOfAssignments(numberOfAssignments) track by $index"> <input type="button" ng-click="curveAsPercentageOfHighestGrade(allAssignments[$index], gradebookContainer.studentContainers)" value="Percentage of highest curve"/> </td>
                </tr>

                <tr>
                    <td> </td>
                    <td ng-repeat="i in getNumberOfAssignments(numberOfAssignments) track by $index"> <input type="button" ng-click="curveByTakingRoot(allAssignments[$index], gradebookContainer.studentContainers)" value="Square root curve (coming soon)"/> </td>
                </tr>
            </table>

<br/><br/>
Average: {{average}}




            <br/><br/>
            *** We'll make the forms below separate pop-ups that only shows when we click "Add student" or "Add assignment" above ***
            <h3>Add a student: </h3>
            Student first name: <input type="text" ng-model="newStudentFirstName"/> <br/>
            Last name: <input type="text" ng-model="newStudentLastName"/> <br/>
            Parent email: <input type="text" ng-model="newStudentParentEmail"/> <br/>
            <input type="button" ng-click="addStudent(newStudentFirstName, newStudentLastName, newStudentParentEmail)" value="Add Student"/> <br/>

            <br/><br/><br/>
            <h3>Add an assignment: </h3>
            Assignment name: <input type="text" ng-model="newAssignmentName"/> <br/>
            Due date: <input type="text" ng-model="newAssignmentDate"/> <br/>
            <input type="button" ng-click="addAssignment(newAssignmentName, newAssignmentDate)" value="Add Assignment"/> <br/>


<div class="dropdown">
    <button id="dLabel" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Dropdown trigger
        <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" aria-labelledby="dLabel">
        <h3>Add an assignment: </h3>
        Assignment name: <input type="text" ng-model="newAssignmentName"/> <br/>
        Due date: <input type="text" ng-model="newAssignmentDate"/> <br/>
        <input type="button" ng-click="addAssignment(newAssignmentName, newAssignmentDate)" value="Add Assignment"/> <br/>
    </ul>
</div>






</span>

<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo" ng-click>Open modal for @mdo</button>
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@fat">Open modal for @fat</button>
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@getbootstrap">Open modal for @getbootstrap</button>
...more buttons...

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="exampleModalLabel">New message</h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="recipient-name" class="control-label">Recipient:</label>
                        <input type="text" class="form-control" id="recipient-name">
                    </div>
                    <div class="form-group">
                        <label for="message-text" class="control-label">Message:</label>
                        <textarea class="form-control" id="message-text"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Send message</button>
            </div>
        </div>
    </div>
</div>









</body>

<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script src="js/gradebook-ng-controller.js"></script>

</html>